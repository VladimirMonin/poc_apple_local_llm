# üìä –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è (Embeddings) –¥–ª—è POC

**–î–∞—Ç–∞**: 8 –¥–µ–∫–∞–±—Ä—è 2025  
**–¶–µ–ª—å**: –í—ã—è—Å–Ω–∏—Ç—å, –ø–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å BGE-M3 –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤

---

## üéØ –ó–∞–¥–∞—á–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–æ–¥–µ–ª–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è**:

- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **—Ä—É—Å—Å–∫–æ–≥–æ** —è–∑—ã–∫–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ** —è–∑—ã–∫–∞  
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–∫–∏—Ç–∞–π—Å–∫–æ–≥–æ** —è–∑—ã–∫–∞ (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)
- ‚úÖ –†–∞–±–æ—Ç–∞ –Ω–∞ Apple Silicon —á–µ—Ä–µ–∑ MLX (–ë–ï–ó —Ç–∞–Ω—Ü–µ–≤ —Å –±—É–±–Ω–æ–º)
- ‚úÖ –ú–∞–ª—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è 8 GB RAM

---

## üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å (–∏–∑ poc_plan.md)

**BAAI/bge-m3**

- –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å: **1024**
- –†–∞–∑–º–µ—Ä: ~2.2 GB (4-bit –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è)
- –¶–µ–ª–µ–≤–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ RAM: ~0.6 GB
- –Ø–∑—ã–∫–∏: **Multilingual (—Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –∫–∏—Ç–∞–π—Å–∫–∏–π + 100+ —è–∑—ã–∫–æ–≤)**
- –ú–∞–∫—Å. –∫–æ–Ω—Ç–µ–∫—Å—Ç: 8192 —Ç–æ–∫–µ–Ω–∞
- –ò—Å—Ç–æ—á–Ω–∏–∫: HuggingFace `BAAI/bge-m3`

---

## üéâ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ù–ê–•–û–î–ö–ê: Qwen3-Embedding-0.6B (–ë–ï–ó PyTorch!)

**8 –¥–µ–∫–∞–±—Ä—è 2025**: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –º–æ–¥–µ–ª—å embeddings –≤ —á–∏—Å—Ç–æ–º MLX —Ñ–æ—Ä–º–∞—Ç–µ!

**mlx-community/Qwen3-Embedding-0.6B-4bit-DWQ**

- ‚úÖ **–ë–ï–ó PyTorch –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `mlx-lm`
- ‚úÖ **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è**: —Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –∫–∏—Ç–∞–π—Å–∫–∏–π + 100 —è–∑—ã–∫–æ–≤
- ‚úÖ **1024 –∏–∑–º–µ—Ä–µ–Ω–∏—è** (vs 384 —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤)
- ‚úÖ **–†–∞–∑–º–µ—Ä**: ~335 MB (4-bit –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è)
- ‚úÖ **–î–ª–∏–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**: 8192 —Ç–æ–∫–µ–Ω–∞ (vs 512)
- ‚úÖ **MTEB Score**: 64.33 (–ª—É—á—à–µ —á–µ–º all-MiniLM)

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞**:

1. **–ß–∏—Å—Ç—ã–π MLX —Å—Ç–µ–∫** - –Ω–∏–∫–∞–∫–∏—Ö PyTorch –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. **–ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —Ç–æ—Ç –∂–µ mlx-lm, —á—Ç–æ –∏ Qwen3-VL
3. **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –Ω–∞—à–∞ –∫–ª—é—á–µ–≤–∞—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å (RUS+ENG+CHN)
4. **–ö—Ä–æ—Å—Å-—è–∑—ã–∫–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ** - RUS‚ÜîCHN —Å—Ö–æ–¥—Å—Ç–≤–æ 0.41
5. **–ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –≤–µ–∫—Ç–æ—Ä–µ** - 1024 vs 384 dimensions

---

## üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### 1. BGE-M3 –≤ MLX —Ñ–æ—Ä–º–∞—Ç–µ

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã**:

| –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏—á–∏–Ω–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ |
|----------|--------|----------------------|

### 2. –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (MLX —Ñ–æ—Ä–º–∞—Ç)

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏**:

| –ú–æ–¥–µ–ª—å | –°—Ç–∞—Ç—É—Å | –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å | –†–∞–∑–º–µ—Ä | –Ø–∑—ã–∫–∏ | PyTorch? |
|--------|--------|-------------|--------|-------|----------|
| `mlx-community/bge-large-en-v1.5-4bit` | ‚ùå –ù–ï –ù–ê–ô–î–ï–ù–ê | 1024 | ‚Äî | English | ‚Äî |
| **`mlx-community/bge-small-en-v1.5-4bit`** | ‚úÖ –ù–ê–ô–î–ï–ù–ê | **384** | **18.9 MB** | **English** | ‚ùå –ù–µ—Ç |
| **`mlx-community/Qwen3-Embedding-0.6B-4bit-DWQ`** | ‚úÖ **–ù–ê–ô–î–ï–ù–ê!** | **1024** | **335 MB** | **100+ —è–∑—ã–∫–æ–≤** | ‚ùå **–ù–ï–¢!** |

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ BGE-small-en-v1.5-4bit**:

- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: 0.53-0.56 —Å–µ–∫
- RAM –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ: 450 MB
- Swap: 3.5 GB (–≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞)
- –§–æ—Ä–º–∞—Ç: MLX safetensors ‚úÖ
- –ó–∞–≥—Ä—É–∑–∫–∞: —á–µ—Ä–µ–∑ mlx-embeddings

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Qwen3-Embedding-0.6B-4bit-DWQ** ‚≠ê:

- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: 1.07 —Å–µ–∫
- RAM –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ: 642 MB
- Swap: 3.9 GB
- –§–æ—Ä–º–∞—Ç: MLX safetensors ‚úÖ
- **–ó–∞–≥—Ä—É–∑–∫–∞: —á–µ—Ä–µ–∑ mlx-lm (–ë–ï–ó PyTorch!)** üî• —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –∫–æ–¥–∞ –∏–∑ blaizzy/mlx-embeddings)
- ‚úÖ HuggingFace mlx-community (3,309 –º–æ–¥–µ–ª–µ–π –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)
- ‚úÖ –ü—Ä—è–º–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ pip

**–í—ã–≤–æ–¥**: BGE-M3 –≤ MLX —Ñ–æ—Ä–º–∞—Ç–µ –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢ –Ω–∞ 8 –¥–µ–∫–∞–±—Ä—è 2025 –≥–æ–¥–∞.

---

### 2. –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã BGE —Å–µ–º–µ–π—Å—Ç–≤–∞

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏**:

| –ú–æ–¥–µ–ª—å | –°—Ç–∞—Ç—É—Å | –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å | –†–∞–∑–º–µ—Ä | –Ø–∑—ã–∫–∏ |
|--------|--------|-------------|--------|-------|
| `mlx-community/bge-large-en-v1.5-4bit` | ‚ùå –ù–ï –ù–ê–ô–î–ï–ù–ê | 1024 | ‚Äî | English |
| **`mlx-community/bge-small-en-v1.5-4bit`** | ‚úÖ **–ù–ê–ô–î–ï–ù–ê** | **384** | **18.9 MB** | **English —Ç–æ–ª—å–∫–æ** |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

### Qwen3-Embedding-0.6B-4bit-DWQ (–ë–ï–ó PyTorch!)

**–¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª**: `tests/03_test_embeddings_qwen3.py`

#### –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (—Ä—É—Å—Å–∫–∏–π + –∞–Ω–≥–ª–∏–π—Å–∫–∏–π + –∫–∏—Ç–∞–π—Å–∫–∏–π)

| –ü–∞—Ä–∞ —Ç–µ–∫—Å—Ç–æ–≤ | –û–∂–∏–¥–∞–µ–º–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ | –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ | –û—Ü–µ–Ω–∫–∞ |
|--------------|-------------------|-------------|---------|
| RUS vs ENG (ML) | >0.25 (–≤—ã—Å–æ–∫–æ–µ) | **0.2891** | ‚úÖ –•–æ—Ä–æ—à–æ |
| RUS vs CHN (ML) | >0.35 (–≤—ã—Å–æ–∫–æ–µ) | **0.4102** | ‚úÖ **–û—Ç–ª–∏—á–Ω–æ** |
| ENG vs CHN (ML) | >0.35 (–≤—ã—Å–æ–∫–æ–µ) | **0.4395** | ‚úÖ **–û—Ç–ª–∏—á–Ω–æ** |
| RUS (ML) vs RUS (–ø–æ–≥–æ–¥–∞) | <0.3 (–Ω–∏–∑–∫–æ–µ) | **0.3457** | ‚ö†Ô∏è –ì—Ä–∞–Ω–∏—Ü–∞ |
| ENG (ML) vs ENG (–ø–æ–≥–æ–¥–∞) | <0.3 (–Ω–∏–∑–∫–æ–µ) | **0.1196** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| CHN (ML) vs CHN (–ø–æ–≥–æ–¥–∞) | <0.3 (–Ω–∏–∑–∫–æ–µ) | **0.2910** | ‚úÖ –•–æ—Ä–æ—à–æ |

**–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è**:

- ‚úÖ **–ö—Ä–æ—Å—Å-—è–∑—ã–∫–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ**: RUS‚ÜîCHN `0.41` - –ø–æ–Ω–∏–º–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏!
- ‚úÖ **–õ—É—á—à–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º**: —á–µ—Ç–∫–æ —Ä–∞–∑–ª–∏—á–∞–µ—Ç —Ç–µ–º—ã (0.12 –¥–ª—è —Ä–∞–∑–Ω—ã—Ö)
- ‚ö†Ô∏è **–ß—É—Ç—å –º—è–≥—á–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º**: 0.35 –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–µ–º (–Ω–æ –ø—Ä–∏–µ–º–ª–µ–º–æ)
- ‚úÖ **–ö–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –æ–¥–Ω–∞ —Ç–µ–º–∞ 0.44, —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã 0.29

#### –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–¥–∞

| –ü–∞—Ä–∞ | –û–∂–∏–¥–∞–µ–º–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ | –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ | –û—Ü–µ–Ω–∫–∞ |
|------|-------------------|-------------|---------|
| –ü–æ—Ö–æ–∂–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Python) | >0.7 | **0.6641** | ‚ö†Ô∏è –ß—É—Ç—å –Ω–∏–∂–µ |
| –†–∞–∑–Ω—ã–µ —è–∑—ã–∫–∏ (Python vs JS) | >0.5 | **0.6445** | ‚úÖ –•–æ—Ä–æ—à–æ |
| –†–∞–∑–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ | <0.4 | **0.4473** | ‚ö†Ô∏è –ì—Ä–∞–Ω–∏—Ü–∞ |

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:

- –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å (6 –ø–∞—Ä –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å): `0.043 —Å–µ–∫/–ø–∞—Ä–∞`
- –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å (3 –ø–∞—Ä—ã –∫–æ–¥): `0.074 —Å–µ–∫/–ø–∞—Ä–∞`
- RAM: 553-642 MB
- Swap: 3.9-4.0 GB

---

### BGE-small-en-v1.5-4bit

#### –¢–µ—Å—Ç 1: –†—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç56 —Å–µ–∫

- RAM –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ: 450 MB
- Swap: 3.5 GB (–≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞)
- –§–æ—Ä–º–∞—Ç: MLX safetensors ‚úÖ

---

## üìä –ò—Ç–æ–≥–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

### –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | BGE-M3 (plan) | Qwen3-0.6B | BGE-small-en | all-MiniLM (used) |
|----------|---------------|------------|--------------|-------------------|
| **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ MLX** | ‚ùå –ù–µ—Ç | ‚úÖ **–ï—Å—Ç—å** | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ï—Å—Ç—å |
| **–ë–ï–ó PyTorch** | ‚Äî | ‚úÖ **–î–ê!** | ‚úÖ –î–∞ | ‚úÖ –î–∞ |
| **–ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑** | ‚Äî | **mlx-lm** | mlx-embeddings | mlx-embeddings |
| **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å** | 1024 | **1024** | 384 | 384 |
| **–†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏** | ~2.2 GB | **335 MB** | 18.9 MB | ~150 MB |
| **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏** | ‚Äî | 1.07 —Å–µ–∫ | 0.53 —Å–µ–∫ | ~0.3 —Å–µ–∫ |
| **RAM (–∑–∞–≥—Ä—É–∑–∫–∞)** | ‚Äî | 642 MB | 450 MB | ~200 MB |
| **Swap** | ‚Äî | 3.9 GB | 3.5 GB | ~3.0 GB |
| **–†—É—Å—Å–∫–∏–π —è–∑—ã–∫** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ | ‚úÖ **–û—Ç–ª–∏—á–Ω–æ** | ‚ùå **–ü—Ä–æ–≤–∞–ª** | ‚úÖ –•–æ—Ä–æ—à–æ |
| **–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ | ‚úÖ **–û—Ç–ª–∏—á–Ω–æ** | ‚úÖ –•–æ—Ä–æ—à–æ | ‚úÖ –•–æ—Ä–æ—à–æ |
| **–ö–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫** | ‚úÖ –î–∞ | ‚úÖ **–î–ê!** | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç |
| **–í—Å–µ–≥–æ —è–∑—ã–∫–æ–≤** | 100+ | **100+** | 1 | ~50 |
| **–ö—Ä–æ—Å—Å-—è–∑—ã–∫–æ–≤–æ–µ** | ‚úÖ –î–∞ | ‚úÖ **0.41** | ‚ùå –ù–µ—Ç | ‚ö†Ô∏è –°–ª–∞–±–æ |
| **–ö–∞—á–µ—Å—Ç–≤–æ (–∫–æ–¥)** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ | ‚úÖ **–•–æ—Ä–æ—à–æ** | ‚ö†Ô∏è –ü—Ä–∏–µ–º–ª–µ–º–æ | ‚úÖ –•–æ—Ä–æ—à–æ |
| **–ú–∞–∫—Å. –∫–æ–Ω—Ç–µ–∫—Å—Ç** | 8192 —Ç–æ–∫–µ–Ω–∞ | **8192** | 512 —Ç–æ–∫–µ–Ω–æ–≤ | 512 —Ç–æ–∫–µ–Ω–æ–≤ |
| **MTEB Score** | ~70 | **64.33** | ~55 | ~58 |
| –ü–∞—Ä–∞ —Ç–µ–∫—Å—Ç–æ–≤ | –û–∂–∏–¥–∞–µ–º–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ | –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ | –û—Ü–µ–Ω–∫–∞ |
|--------------|-------------------|-------------|---------|
| –ü–æ—Ö–æ–∂–∏–µ (AI/ML) | >0.7 (–≤—ã—Å–æ–∫–æ–µ) | **0.8843** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| –ü–æ—Ö–æ–∂–∏–µ (Apple Silicon) | >0.6 (–≤—ã—Å–æ–∫–æ–µ) | **0.8019** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| –†–∞–∑–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã (–ø–æ–≥–æ–¥–∞ vs –ë–î) | <0.3 (–Ω–∏–∑–∫–æ–µ) | **0.3934** | ‚ö†Ô∏è –ì—Ä–∞–Ω–∏—Ü–∞ |

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç **–Ω–∞–º–Ω–æ–≥–æ –ª—É—á—à–µ**, –Ω–æ:

- ‚ö†Ô∏è –ì—Ä–∞–Ω–∏—á–Ω—ã–π —Å–ª—É—á–∞–π —Ä–∞–∑–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ (`0.3934` –≤–º–µ—Å—Ç–æ <0.3)

### –¢–µ—Å—Ç 3: –ö–æ–¥

## üéØ –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üî• –ü–æ—á–µ–º—É Qwen3-Embedding-0.6B –∏–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞?

1. ‚úÖ **–ë–ï–ó PyTorch –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `mlx-lm` (—Ç–æ—Ç –∂–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —á—Ç–æ –¥–ª—è Qwen3-VL)
   - –ß–∏—Å—Ç—ã–π MLX —Å—Ç–µ–∫ - –Ω–∏–∫–∞–∫–∏—Ö —Å–º–µ—à–∞–Ω–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
   - –ü—Ä–æ—â–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ, –º–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

2. ‚úÖ **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å - –ù–ê–®–ê –¶–ï–õ–¨**
   - –†—É—Å—Å–∫–∏–π + –ê–Ω–≥–ª–∏–π—Å–∫–∏–π + –ö–∏—Ç–∞–π—Å–∫–∏–π –∏–∑ –∫–æ—Ä–æ–±–∫–∏
   - –ö—Ä–æ—Å—Å-—è–∑—ã–∫–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ (RUS‚ÜîCHN: 0.41)
   - 100+ —è–∑—ã–∫–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

3. ‚úÖ **–ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MLX —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ `mlx.core` –æ–ø–µ—Ä–∞—Ü–∏–∏
   - –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ transformer —Å–ª–æ—è–º
   - –ï–¥–∏–Ω—ã–π —Å—Ç–µ–∫: mlx-lm –¥–ª—è –≤—Å–µ–≥–æ (VLM + Embeddings + TTS)

4. ‚úÖ **–ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –≤–µ–∫—Ç–æ—Ä–µ**
   - 1024 –∏–∑–º–µ—Ä–µ–Ω–∏—è vs 384 —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
   - –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö
   - MTEB Score 64.33 (–≤—ã—à–µ all-MiniLM)

5. ‚úÖ **–î–ª–∏–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**
   - 8192 —Ç–æ–∫–µ–Ω–∞ vs 512 —É –¥—Ä—É–≥–∏—Ö
   - –ú–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ RAG
   - –ë–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ = –ª—É—á—à–∏–π –ø–æ–∏—Å–∫

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:

- ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ: ~0.07 —Å–µ–∫/—Ç–µ–∫—Å—Ç vs 0.02 —É all-MiniLM
- ‚ö†Ô∏è –ë–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏: 335 MB vs 150 MB
- ‚ö†Ô∏è –ù–∞ 8 GB –º–æ–∂–µ—Ç –±—ã—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–æ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º —Å—Ç–µ–∫–µ

---

### –ü–æ—á–µ–º—É BGE-M3 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞?>0.7 | **0.7303** | ‚úÖ –•–æ—Ä–æ—à–æ |

| –†–∞–∑–Ω—ã–µ —è–∑—ã–∫–∏ (Python vs JS) | >0.5 | **0.6408** | ‚úÖ –•–æ—Ä–æ—à–æ |
| –†–∞–∑–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ | <0.4 | **0.4097** | ‚ö†Ô∏è –ì—Ä–∞–Ω–∏—Ü–∞ |

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–∞ –∫–æ–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–µ–º–ª–µ–º–æ.

---

## üìä –ò—Ç–æ–≥–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

### –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | BGE-M3 (plan) | BGE-small-en | all-MiniLM (used) |
|----------|---------------|--------------|-------------------|
| **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ MLX** | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ï—Å—Ç—å |
| **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å** | 1024 | 384 | 384 |
| **–†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏** | ~2.2 GB | 18.9 MB | ~150 MB |
| **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏** | ‚Äî | 0.53 —Å–µ–∫ | ~0.3 —Å–µ–∫ |

### –ü–æ—á–µ–º—É Qwen3-Embedding –ë–ï–ó PyTorch –≤–∞–∂–Ω–æ?

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏—á–∏–Ω—ã**:

1. **–ï–¥–∏–Ω—ã–π —Å—Ç–µ–∫ MLX**

   ```python
   # –í–°–ï —á–µ—Ä–µ–∑ mlx-lm - –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ!
   from mlx_lm import load
   
   # Vision-Language –º–æ–¥–µ–ª—å
   vlm_model, vlm_tokenizer = load('mlx-community/Qwen3-VL-4B-Instruct-4bit')
   
   # Embeddings –º–æ–¥–µ–ª—å (–ë–ï–ó –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫!)
   emb_model, emb_tokenizer = load('mlx-community/Qwen3-Embedding-0.6B-4bit-DWQ')
   ```

2. **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Å–ª–æ—è–º MLX**

   ```python

## üîÆ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É –º–æ–¥–µ–ª–∏

### –î–ª—è POC –Ω–∞ 8 GB RAM

**–í–∞—Ä–∏–∞–Ω—Ç 1: all-MiniLM-L6-v2-4bit (–ë–ï–ó–û–ü–ê–°–ù–´–ô)**

```python
from mlx_embeddings.utils import load
model, tokenizer = load('mlx-community/all-MiniLM-L6-v2-4bit')
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:

- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (150 MB)
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (0.3 —Å–µ–∫)
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –∏–Ω—Ñ–µ—Ä–µ–Ω—Å (~0.02 —Å–µ–∫/—Ç–µ–∫—Å—Ç)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

**–ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å**: –ï—Å–ª–∏ –ø–∞–º—è—Ç–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –º–∞–ª–æ, –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: Qwen3-Embedding-0.6B-4bit-DWQ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø!)** ‚≠ê

```python
from mlx_lm import load
import mlx.core as mx

model, tokenizer = load('mlx-community/Qwen3-Embedding-0.6B-4bit-DWQ')
# –ó–∞—Ç–µ–º —Ä—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ transformer —Å–ª–æ–∏
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:

- ‚úÖ **–ë–ï–ó PyTorch** - —á–∏—Å—Ç—ã–π MLX —Å—Ç–µ–∫
- ‚úÖ **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - RUS+ENG+CHN
- ‚úÖ **–ë–æ–ª—å—à–∞—è —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å** - 1024 vs 384
- ‚úÖ **–î–ª–∏–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** - 8192 —Ç–æ–∫–µ–Ω–∞
- ‚úÖ **–í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** - MTEB 64.33
- ‚úÖ **–ï–¥–∏–Ω—ã–π —Å—Ç–µ–∫** - mlx-lm –¥–ª—è –≤—Å–µ–≥–æ

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:

- ‚ö†Ô∏è –ë–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏ (335 MB vs 150 MB)
- ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (0.07 —Å–µ–∫ vs 0.02 —Å–µ–∫)

**–ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å**:

- –ï—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–∞ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (–∫–∏—Ç–∞–π—Å–∫–∏–π)
- –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–ª–∏–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (>512 —Ç–æ–∫–µ–Ω–æ–≤)
- –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —á–∏—Å—Ç—ã–π MLX —Å—Ç–µ–∫ –±–µ–∑ PyTorch
- **–î–ª—è production –Ω–∞ 16+ GB - –ò–î–ï–ê–õ–¨–ù–û**

---

### –î–ª—è Production –Ω–∞ 16+ GB RAM

**–û–¥–Ω–æ–∑–Ω–∞—á–Ω–æ: Qwen3-Embedding-0.6B-4bit-DWQ**

–ü—Ä–∏—á–∏–Ω—ã:

1. ‚úÖ –ü–æ–ª–Ω–∞—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (100+ —è–∑—ã–∫–æ–≤)
2. ‚úÖ –ß–∏—Å—Ç—ã–π MLX —Å—Ç–µ–∫ (–Ω–∏–∫–∞–∫–∏—Ö —Å–º–µ—à–∞–Ω–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
3. ‚úÖ –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ (1024-dim, MTEB 64.33)
4. ‚úÖ –î–ª–∏–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è RAG (8192 —Ç–æ–∫–µ–Ω–∞)
5. ‚úÖ –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Qwen3-VL

---

### –ï—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è BGE-M3 –≤ MLX?

**–£—Å–ª–æ–≤–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞**:

1. ‚úÖ RAM 16+ GB (–º–æ–¥–µ–ª—å ~2.2 GB)
2. ‚úÖ –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
3. ‚úÖ Production –æ–∫—Ä—É–∂–µ–Ω–∏–µ

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ BGE-M3 vs Qwen3-0.6B** (–µ—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è):

- BGE-M3: –±–æ–ª—å—à–µ (2.2 GB), –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ—á–Ω–µ–µ
- Qwen3-0.6B: –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ (335 MB), –ë–ï–ó PyTorch, –µ–¥–∏–Ω—ã–π —Å—Ç–µ–∫

---

## üìù –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è —Ç–µ–∫—É—â–µ–≥–æ POC (8 GB RAM)**:

```
ü•á –ü–û–ü–†–û–ë–û–í–ê–¢–¨: mlx-community/Qwen3-Embedding-0.6B-4bit-DWQ
   - –ë–ï–ó PyTorch, —á–∏—Å—Ç—ã–π MLX
**8 –¥–µ–∫–∞–±—Ä—è 2025** (—É—Ç—Ä–æ):
- –ü—Ä–æ–≤–µ–¥–µ–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ BGE-M3
- –ù–∞–π–¥–µ–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: BGE-small-en-v1.5-4bit
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ BGE-small –ø–æ–∫–∞–∑–∞–ª–æ –ø—Ä–æ–≤–∞–ª –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ all-MiniLM-L6-v2-4bit

**8 –¥–µ–∫–∞–±—Ä—è 2025** (–≤–µ—á–µ—Ä):
- üî• **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ù–ê–•–û–î–ö–ê**: Qwen3-Embedding-0.6B-4bit-DWQ
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó PyTorch (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ mlx-lm)
- ‚úÖ –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è: —Ä—É—Å—Å–∫–∏–π + –∞–Ω–≥–ª–∏–π—Å–∫–∏–π + –∫–∏—Ç–∞–π—Å–∫–∏–π
- ‚úÖ 1024 –∏–∑–º–µ—Ä–µ–Ω–∏—è, 8192 –∫–æ–Ω—Ç–µ–∫—Å—Ç, MTEB 64.33
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏ –∏ –∫–æ–¥–µ
- ‚úÖ –ö—Ä–æ—Å—Å-—è–∑—ã–∫–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ: RUS‚ÜîCHN 0.41
- üìù –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç: `tests/03_test_embeddings_qwen3.py`

---

**–ê–≤—Ç–æ—Ä**: GitHub Copilot  
**–ú–æ–¥–µ–ª—å**: Claude Sonnet 4.5  
**–î–æ–∫—É–º–µ–Ω—Ç**: EMBEDDINGS_MODELS_INVESTIGATION.md
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 8 –¥–µ–∫–∞–±—Ä—è 2025, 20:00
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:
1. Qwen3 –¥–∞–µ—Ç –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å + —á–∏—Å—Ç—ã–π MLX ‚úÖ
2. –ú–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –ø–æ–ª–Ω—ã–º —Å—Ç–µ–∫–æ–º (VLM + Embeddings + Whisper)
3. –ï—Å–ª–∏ –ø–∞–º—è—Ç–∏ –Ω–µ —Ö–≤–∞—Ç–∏—Ç - –æ—Ç–∫–∞—Ç –Ω–∞ all-MiniLM ‚úÖ
4. BGE-small –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç (English only) ‚ùå
5. BGE-M3 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –≤ MLX ‚ùå
- ‚ö†Ô∏è –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å 384 (vs 1024 —É Qwen3)
- ‚ö†Ô∏è –ú–∞–∫—Å. –∫–æ–Ω—Ç–µ–∫—Å—Ç 512 —Ç–æ–∫–µ–Ω–æ–≤ (vs 8192)
- ‚ö†Ô∏è –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫
- ‚ö†Ô∏è –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ mlx-embeddings (–Ω–µ mlx-lm)

**–ü—Ä–æ–±–ª–µ–º—ã –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º**:
1. ‚ùå –ü–æ—Ö–æ–∂–∏–µ —Ç–µ–∫—Å—Ç—ã (ML, —Ä—É—Å+eng): `0.5566` - –ù–ï —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Å—Ö–æ–¥—Å—Ç–≤–æ
2. ‚ùå –†–∞–∑–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã (–ø–æ–≥–æ–¥–∞ vs —Ñ–∏–∑–∏–∫–∞): `0.7001` - –õ–û–ñ–ù–û–ï —Å—Ö–æ–¥—Å—Ç–≤–æ
3. ‚ö†Ô∏è –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –¢–û–õ–¨–ö–û –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º (`en` –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏)

---

## üéØ –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü–æ—á–µ–º—É BGE-M3 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞?

1. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞**: –ù–µ –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ MLX —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º
2. **–§–æ—Ä–º–∞—Ç –≤–µ—Å–æ–≤**: PyTorch .bin –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å mlx-embeddings
3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**: BGE-large —Ç–æ–∂–µ –Ω–µ –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞, —Ç–æ–ª—å–∫–æ BGE-small

### –ü–æ—á–µ–º—É BGE-small-en-v1.5-4bit –ù–ï –ø–æ–¥—Ö–æ–¥–∏—Ç?

1. ‚ùå **"en" = English only** - –º–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∫–æ—Ä–ø—É—Å–µ
2. ‚ùå **–ü—Ä–æ–≤–∞–ª –Ω–∞ —Ä—É—Å—Å–∫–æ–º**: `0.7001` —Å—Ö–æ–¥—Å—Ç–≤–æ –¥–ª—è –†–ê–ó–ù–´–• —Ç–µ–∫—Å—Ç–æ–≤
3. ‚ùå **–ù–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —è–∑—ã–∫–æ–≤–æ–π –º–∏–∫—Å**: `0.5566` –Ω–∞ —Ä—É—Å+eng
4. ‚ùå **–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∏—Ç–∞–π—Å–∫–∏–π** —è–∑—ã–∫

### –ü–æ—á–µ–º—É all-MiniLM-L6-v2-4bit –ü–†–ê–í–ò–õ–¨–ù–´–ô –≤—ã–±–æ—Ä?

1. ‚úÖ **–î–æ—Å—Ç—É–ø–Ω–∞ –≤ MLX** —Ñ–æ—Ä–º–∞—Ç–µ (mlx-community)
2. ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º** —è–∑—ã–∫–µ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ —Ç–µ—Å—Ç–∞—Ö)
3. ‚úÖ **–ú–∞–ª—ã–π —Ä–∞–∑–º–µ—Ä**: 150 MB (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è 8 GB RAM)
4. ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è**: –∑–∞–≥—Ä—É–∑–∫–∞ ~0.3 —Å–µ–∫
5. ‚úÖ **–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** –¥–ª—è POC (>0.7 –Ω–∞ –ø–æ—Ö–æ–∂–∏—Ö —Ç–µ–∫—Å—Ç–∞—Ö)
6. ‚úÖ **–ù–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ RAM**: ~200 MB

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è all-MiniLM-L6-v2-4bit:

- ‚ö†Ô∏è –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å 384 (vs 1024 —É BGE-M3)
- ‚ö†Ô∏è –ú–∞–∫—Å. –∫–æ–Ω—Ç–µ–∫—Å—Ç 512 —Ç–æ–∫–µ–Ω–æ–≤ (vs 8192)
- ‚ö†Ô∏è –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫
- ‚ö†Ô∏è –ú–µ–Ω—å—à–µ –º–æ–¥–µ–ª–µ–π –≤ —Å–µ–º–µ–π—Å—Ç–≤–µ (–Ω–µ—Ç –±–æ–ª—å—à–∏—Ö –≤–µ—Ä—Å–∏–π)

---

## üîÆ –ö–æ–≥–¥–∞ BGE-M3 —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å?

**–£—Å–ª–æ–≤–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ BGE-M3** (–µ—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è MLX –ø–æ—Ä—Ç):

1. ‚úÖ RAM 16+ GB (–º–æ–¥–µ–ª—å ~2.2 GB)
2. ‚úÖ –ù—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
3. ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç >512 —Ç–æ–∫–µ–Ω–æ–≤
4. ‚úÖ –ù—É–∂–Ω–∞ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å 1024 –¥–ª—è –ª—É—á—à–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
5. ‚úÖ Production –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–Ω–µ POC)

**–î–ª—è POC –Ω–∞ 8 GB**:
- –í—ã–±–æ—Ä all-MiniLM-L6-v2-4bit –±—ã–ª **–ü–†–ê–í–ò–õ–¨–ù–´–ú**
- BGE-M3 —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è (2.2 GB vs 150 MB)
- BGE-small –ù–ï –ø–æ–¥—Ö–æ–¥–∏—Ç (English only)

---

## üìù –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è —Ç–µ–∫—É—â–µ–≥–æ POC**:
```

‚úÖ –û–°–¢–ê–í–ò–¢–¨: mlx-community/all-MiniLM-L6-v2-4bit
‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨: mlx-community/bge-small-en-v1.5-4bit (–ø—Ä–æ–≤–∞–ª –Ω–∞ —Ä—É—Å—Å–∫–æ–º)
‚è≥ –ñ–î–ê–¢–¨: BGE-M3 MLX –ø–æ—Ä—Ç (–µ—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è –¥–ª—è –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π)

```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:
1. all-MiniLM –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π+–∞–Ω–≥–ª–∏–π—Å–∫–∏–π ‚úÖ
2. –ú–∞–ª—ã–π —Ä–∞–∑–º–µ—Ä (150 MB) –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è 8 GB RAM ‚úÖ
3. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è POC –¥–æ–∫–∞–∑–∞–Ω–æ —Ç–µ—Å—Ç–∞–º–∏ ‚úÖ
4. BGE-small –ø—Ä–æ–≤–∞–ª–∏–ª–∞ —Ç–µ—Å—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º ‚ùå
5. BGE-M3 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –≤ MLX —Ñ–æ—Ä–º–∞—Ç–µ ‚ùå

---

## üî¨ –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª**: `tests/02_test_embeddings_bge_m3.py`

**–¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤**:
1. –†—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç (3 –ø–∞—Ä—ã: –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ—Ö–æ–∂–∏–µ ML, —Ä–∞–∑–Ω—ã–µ)
2. –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ–∫—Å—Ç (3 –ø–∞—Ä—ã: AI/ML, Apple Silicon, —Ä–∞–∑–Ω—ã–µ)
3. –ö–æ–¥ (3 –ø–∞—Ä—ã: Python –ø–æ—Ö–æ–∂–∏–µ, —Ä–∞–∑–Ω—ã–µ —è–∑—ã–∫–∏, —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏)

**–ú–µ—Ç—Ä–∏–∫–∏**:
- Cosine similarity (—Ä—É—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ numpy)
- –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ embeddings
- RAM –ø—Ä–æ—Ü–µ—Å—Å–∞ (—á–µ—Ä–µ–∑ SystemProfiler)
- Swap usage (—á–µ—Ä–µ–∑ SystemProfiler)

**–û–∫—Ä—É–∂–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**:
- Python 3.11.14
- MLX 0.30.0
- mlx-embeddings (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
- macOS 15.6.1, Apple Silicon M2, 8 GB RAM

---

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏

### 1. BGE-M3 –≤ MLX –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ 5 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏–π
- Web search (Brave, Context7, GitHub)
- –ü—Ä—è–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ pip
- **–°—Ç–∞—Ç—É—Å**: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ 8 –¥–µ–∫–∞–±—Ä—è 2025

### 2. BGE-small-en –ø—Ä–æ–≤–∞–ª–∏–ª–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
- **0.7001** –¥–ª—è –†–ê–ó–ù–´–• —Ç–µ–∫—Å—Ç–æ–≤ (–æ–∂–∏–¥–∞–ª–æ—Å—å <0.3)
- **0.5566** –¥–ª—è –ø–æ—Ö–æ–∂–∏—Ö —Ä—É—Å+eng (–æ–∂–∏–¥–∞–ª–æ—Å—å >0.6)
- –ü—Ä–∏—á–∏–Ω–∞: English-only –º–æ–¥–µ–ª—å

### 3. all-MiniLM - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π ‚úÖ
- –ú–∞–ª—ã–π —Ä–∞–∑–º–µ—Ä (150 MB) ‚úÖ
- –î–æ—Å—Ç—É–ø–Ω–∞ –≤ MLX ‚úÖ
- –ö–∞—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è POC ‚úÖ

---

## üìÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**8 –¥–µ–∫–∞–±—Ä—è 2025**:
- –ü—Ä–æ–≤–µ–¥–µ–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ BGE-M3
- –ù–∞–π–¥–µ–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: BGE-small-en-v1.5-4bit
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ BGE-small –ø–æ–∫–∞–∑–∞–ª–æ –ø—Ä–æ–≤–∞–ª –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ all-MiniLM-L6-v2-4bit

---

**–ê–≤—Ç–æ—Ä**: GitHub Copilot  
**–ú–æ–¥–µ–ª—å**: Claude Sonnet 4.5  
**–î–æ–∫—É–º–µ–Ω—Ç**: EMBEDDINGS_MODELS_INVESTIGATION.md
