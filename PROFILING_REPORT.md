# –û—Ç—á–µ—Ç –æ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ POC –Ω–∞ Apple Silicon (8 –ì–ë RAM)

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 7 –¥–µ–∫–∞–±—Ä—è 2025 –≥.  
**–°–∏—Å—Ç–µ–º–∞:** macOS 15.6.1 Sequoia, Apple Silicon, 8 –ì–ë Unified Memory  
**Python:** 3.11.14  
**MLX:** 0.30.0

---

## –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ç—ã—Ä–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–≥–æ AI-—Å—Ç–µ–∫–∞:

1. **Apple Vision OCR** - –Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
2. **MLX Embeddings** - –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
3. **Lightning Whisper MLX** - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
4. **–°–∏—Å—Ç–µ–º–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** - –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Ö–æ–¥–∫–∞:** –ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —Å 8 –ì–ë RAM –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ **–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–≤–æ–ø–∞** –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç—è–∂–µ–ª—ã—Ö –º–æ–¥–µ–ª–µ–π, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∑–∞–≤–∏—Å–∞–Ω–∏—è–º —Å–∏—Å—Ç–µ–º—ã.

---

## –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤—â–∏–∫ `src/profiler.py` –Ω–∞ –±–∞–∑–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `psutil` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π macOS-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫:

**–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**

- **RSS (Resident Set Size)** - —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞
- **Swap Usage** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ–¥–∫–∞—á–∫–∏
- **Memory Pressure** - –¥–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø–∞–º—è—Ç—å (Normal/Warning/Critical)
- **Compressed Memory** - —Å–∂–∞—Ç–∞—è –ø–∞–º—è—Ç—å (macOS specific)
- **CPU Load** - –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (user/system/idle)
- **Execution Time** - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –£—Å–ª–æ–≤–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–¢–µ—Å—Ç 1: –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)**

- –ò—Å—Ö–æ–¥–Ω—ã–π Swap: **11.5 –ì–ë** (—Å–∏—Å—Ç–µ–º–∞ —É–∂–µ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π)
- Memory Pressure: **Critical**
- –î–æ—Å—Ç—É–ø–Ω–∞—è –ø–∞–º—è—Ç—å: ~2.6 –ì–ë

**–¢–µ—Å—Ç 2: –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ (—á–∏—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞)**

- –ò—Å—Ö–æ–¥–Ω—ã–π Swap: **0 –ú–ë**
- Memory Pressure: **Critical** (–∏–∑-–∑–∞ –º–∞–ª–æ–≥–æ –æ–±—ä–µ–º–∞ RAM)
- –î–æ—Å—Ç—É–ø–Ω–∞—è –ø–∞–º—è—Ç—å: ~1.9 –ì–ë

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (00_check_env.py)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–∞–ª–∏–¥–∞—Ü–∏—è Python, macOS, MLX, Metal, Unified Memory

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | 0.53-0.55 —Å–µ–∫ |
| RAM Œî | +0.2 –ú–ë |
| Swap Œî | 0 –ú–ë |
| –°—Ç–∞—Ç—É—Å | ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ |

**–í—ã–≤–æ–¥—ã:**

- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ù–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–∏—Å—Ç–µ–º—É
- –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

### 2. Apple Vision OCR (01_test_ocr.py)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã–π Vision Framework

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ | –°—Ç—Ä–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ | –°–∫–æ—Ä–æ—Å—Ç—å |
|-------------|----------------|------------------|----------|
| russian_text.png (—Å–∏–Ω—Ç–µ—Ç–∏–∫–∞) | 0.49-0.56 —Å–µ–∫ | 2 | ‚úÖ < 0.5 —Å–µ–∫ |
| 2025-11-27_16-13-40.png | 0.42-0.43 —Å–µ–∫ | 17 | ‚úÖ < 0.5 —Å–µ–∫ |
| 2025-12-07_20-50-09.jpg | 0.33-0.35 —Å–µ–∫ | 19 | ‚úÖ < 0.5 —Å–µ–∫ |

#### –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ | –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ |
|---------|-----------------|---------------------|
| –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | 2.57 —Å–µ–∫ | 2.66 —Å–µ–∫ |
| RAM Œî (–ø—Ä–æ—Ü–µ—Å—Å) | +21.8 –ú–ë | +15.2 –ú–ë |
| RAM Œî (–æ–±—â–∞—è) | +0 –ú–ë | -3.0 –ú–ë |
| Swap Œî | **-8 –ú–ë** ‚úÖ | **+0 –ú–ë** ‚úÖ |

**–ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏:**

1. **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π Swap Œî (-8 –ú–ë)** - Vision Framework **–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç** –ø–∞–º—è—Ç—å, –≤–µ—Ä–æ—è—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—è —Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
2. **–ü—Ä–∏—Ä–æ—Å—Ç –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ +15-22 –ú–ë** –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ 3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π - –ø—Ä–∏–µ–º–ª–µ–º–æ
3. **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** 0.3-0.5 —Å–µ–∫ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
4. **–ö–∏—Ä–∏–ª–ª–∏—Ü–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** –Ω–∞ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö (—Ä—É—Å—Å–∫–∏–π + –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

- ‚úÖ –ò–¥–µ–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è POC —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ production –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
- –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ < 100 –ú–ë —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–ª–∞–Ω–æ–≤—ã–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º

---

### 3. MLX Embeddings (02_test_embeddings.py)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π —Ç–µ–∫—Å—Ç–∞ (384-—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å)  
**–ú–æ–¥–µ–ª—å:** `mlx-community/all-MiniLM-L6-v2-4bit` (–∑–∞–º–µ–Ω–∞ BGE-M3)

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ó–∞–¥–∞—á–∞ | –í—Ä–µ–º—è | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|--------|-------|-----------|
| –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ | 0.52-0.56 —Å–µ–∫ | 384-dim –≤–µ–∫—Ç–æ—Ä—ã |
| –≠–º–±–µ–¥–¥–∏–Ω–≥ 3 –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤ | 0.024-0.025 —Å–µ–∫ | –°—Ö–æ–¥—Å—Ç–≤–æ 82.73% |
| –≠–º–±–µ–¥–¥–∏–Ω–≥ –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (695 —Å–ª–æ–≤) | 0.65-0.69 —Å–µ–∫ | ‚úÖ < 2 —Å–µ–∫ |
| 10 –∏—Ç–µ—Ä–∞—Ü–∏–π (—Ç–µ—Å—Ç —É—Ç–µ—á–µ–∫) | ~8 —Å–µ–∫ | –ü–∞–º—è—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–∞ |

#### –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ | –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ |
|---------|-----------------|---------------------|
| –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | 9.91 —Å–µ–∫ | 7.76 —Å–µ–∫ |
| RAM Œî (–ø—Ä–æ—Ü–µ—Å—Å) | -40.9 –ú–ë | -162.9 –ú–ë |
| RAM Œî (–æ–±—â–∞—è) | -11.8 –ú–ë | -8.9 –ú–ë |
| **Swap Œî** | **+284 –ú–ë** ‚ö†Ô∏è | **+1639 –ú–ë** üî¥ |

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Ö–æ–¥–∫–∞: Swap Paradox**

–ü—Ä–∏ **–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π** –¥–µ–ª—å—Ç–µ RAM –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è **–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è** –¥–µ–ª—å—Ç–∞ Swap:

- –ü—Ä–æ—Ü–µ—Å—Å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç 40-163 –ú–ë —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏
- –ù–æ Swap –≤—ã—Ä–∞—Å—Ç–∞–µ—Ç –Ω–∞ 284 –ú–ë - 1.6 –ì–ë

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

1. MLX –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Unified Memory** - –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è GPU
2. –≠—Ç–∞ –ø–∞–º—è—Ç—å –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ RSS –ø—Ä–æ—Ü–µ—Å—Å–∞ Python
3. macOS –Ω–∞—á–∏–Ω–∞–µ—Ç **–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ —Å–≤–æ–ø–∏—Ç—å** –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –º–µ—Å—Ç–∞ –ø–æ–¥ GPU buffers
4. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç —É—Å–∏–ª–∏–ª—Å—è (1.6 –ì–ë swap) –∏–∑-–∑–∞ –±–æ–ª—å—à–µ–≥–æ —á–∏—Å–ª–∞ —Ñ–æ–Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å–∏—Å—Ç–µ–º—ã

**–ö–∞—á–µ—Å—Ç–≤–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤:**

- ‚úÖ –ü–æ—Ö–æ–∂–∏–µ —Ç–µ–∫—Å—Ç—ã: 82.73% —Å—Ö–æ–¥—Å—Ç–≤–æ (Python-—Ç–µ–º—ã)
- ‚ö†Ô∏è –†–∞–∑–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã: 54.94% —Å—Ö–æ–¥—Å—Ç–≤–æ (–Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ –≤—ã—Å–æ–∫–æ –¥–ª—è –º–æ–¥–µ–ª–∏ MiniLM)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ** –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å 16+ –ì–ë RAM –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ù–∞ 8 –ì–ë: –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É: CPU-–≤–µ—Ä—Å–∏—è sentence-transformers (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –±–µ–∑ swap)

---

### 4. Lightning Whisper MLX (03_test_whisper.py)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –∞—É–¥–∏–æ –≤ —Ç–µ–∫—Å—Ç  
**–ú–æ–¥–µ–ª—å:** `base` (144 –ú–ë, batch_size=12)  
**–ê—É–¥–∏–æ:** 10:37 –º–∏–Ω —Ä—É—Å—Å–∫–æ–π —Ä–µ—á–∏ (test_audio.wav)

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ | –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ |
|---------|-----------------|---------------------|
| –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ | 0.82-0.93 —Å–µ–∫ | 0.92 —Å–µ–∫ |
| –ó–∞–≥—Ä—É–∑–∫–∞ weights.npz (144 –ú–ë) | ~16 —Å–µ–∫ (–ø–µ—Ä–≤—ã–π —Ä–∞–∑) | –ò–∑ –∫–µ—à–∞ |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ (10:37)** | **24-31 —Å–µ–∫** | **11 —Å–µ–∫** üéâ |
| Real-time factor | 20-26x | **58x** üöÄ |

**–î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–æ—Å—å 2 —Ñ–∞–π–ª–∞:**

- `–ò–¥–µ–∏ –ø–æ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.m4a`: 30.93 —Å–µ–∫
- `test_audio.wav`: 19.60 —Å–µ–∫ (—Ç–æ—Ç –∂–µ –∫–æ–Ω—Ç–µ–Ω—Ç)

**–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–∞:**

- `test_audio.wav`: **11.03 —Å–µ–∫** (–≤ 1.8 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ!)

#### –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ | –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ |
|---------|-----------------|---------------------|
| –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | **57.44 —Å–µ–∫** | **14.92 —Å–µ–∫** |
| RAM Œî (–ø—Ä–æ—Ü–µ—Å—Å) | -4.9 –ú–ë | -5.4 –ú–ë |
| **Swap Œî** | **+2001 –ú–ë** üî¥üî¥üî¥ | **+1531 –ú–ë** üî¥ |
| Memory Pressure | Critical | Warning |

**üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: Swap Explosion**

Whisper –≤—ã–∑—ã–≤–∞–µ—Ç **–∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏–π —Ä–æ—Å—Ç —Å–≤–æ–ø–∞**:

- –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏: +2.0 –ì–ë swap –∑–∞ 57 —Å–µ–∫ —Ä–∞–±–æ—Ç—ã
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏: +1.5 –ì–ë swap –∑–∞ 15 —Å–µ–∫ —Ä–∞–±–æ—Ç—ã

**–ü—Ä–∏—á–∏–Ω—ã –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**

1. **Batched Decoding Buffer:**
   - `batch_size=12` —Å–æ–∑–¥–∞–µ—Ç –æ–≥—Ä–æ–º–Ω—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –±—É—Ñ–µ—Ä—ã
   - MLX –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å –ø–æ–¥ GPU, macOS —Å–≤–æ–ø–∏—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–µ

2. **–§—Ä–∏–∑—ã —Å–∏—Å—Ç–µ–º—ã:**
   - Swap > 1 –ì–ë ‚Üí –∞–∫—Ç–∏–≤–Ω–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å SSD
   - SSD bandwidth (~3 –ì–ë/—Å) << RAM bandwidth (~100 –ì–ë/—Å)
   - GPU –∂–¥–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å–≤–æ–ø–∞ ‚Üí –ø—Ä–æ—Å—Ç–æ–π ‚Üí —Ñ—Ä–∏–∑—ã UI

3. **–£–ª—É—á—à–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:**
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ **–≤ 3.8 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ** (57 —Å–µ–∫ ‚Üí 15 —Å–µ–∫)
   - –ù–æ swap –≤—Å–µ —Ä–∞–≤–Ω–æ –≤—ã—Ä–æ—Å –Ω–∞ 1.5 –ì–ë
   - –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–∞ —Ç–∞–∫–∂–µ —É—Å–∫–æ—Ä–∏–ª–æ —Ä–∞–±–æ—Ç—É

**–ö–∞—á–µ—Å—Ç–≤–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:**

- ‚úÖ –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ –±–µ–∑ –∏—Å–∫–∞–∂–µ–Ω–∏–π
- ‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è —Å –æ—à–∏–±–∫–∞–º–∏ (normal –¥–ª—è base –º–æ–¥–µ–ª–∏)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:** –£–º–µ–Ω—å—à–∏—Ç—å `batch_size` —Å 12 –¥–æ **4-6**
2. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ù–µ –∑–∞–ø—É—Å–∫–∞—Ç—å Whisper + Embeddings –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å Mac –ø–µ—Ä–µ–¥ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏
4. **16 –ì–ë RAM –∫—Ä–∏—Ç–∏—á–Ω—ã** –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞: –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ (—á–∏—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í—Ä–µ–º—è (—Å–µ–∫) | RAM Œî (–ú–ë) | Swap Œî (–ú–ë) | Memory Pressure | –°—Ç–∞—Ç—É—Å |
|-----------|-------------|------------|-------------|-----------------|--------|
| **check_env** | 0.55 | +0.2 | 0 | Critical‚ÜíCritical | ‚úÖ OK |
| **OCR** | 2.66 | -3.0 | 0 | Critical‚ÜíCritical | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **Embeddings** | 7.76 | -8.9 | **+1639** | Critical‚ÜíWarning | ‚ö†Ô∏è Swap! |
| **Whisper** | 14.92 | -5.4 | **+1531** | Warning‚ÜíWarning | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |
| **–ò–¢–û–ì–û** | **25.89** | **-17.1** | **+3170** | Critical‚ÜíWarning | üî¥ |

### –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –î–æ—Å—Ç—É–ø–Ω–∞—è –ø–∞–º—è—Ç—å | 5.4 –ì–ë |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Swap | **3.2 –ì–ë / 4 –ì–ë** (77%) |
| Memory Pressure | **Warning** |
| CPU Load | 20% (user 1%, system 8%) |

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üî¥ –ü—Ä–æ–±–ª–µ–º—ã –Ω–∞ 8 –ì–ë RAM

1. **Swap —è–≤–ª—è–µ—Ç—Å—è —É–∑–∫–∏–º –º–µ—Å—Ç–æ–º:**
   - Embeddings + Whisper —Å–æ–∑–¥–∞—é—Ç 3.2 –ì–ë swap –∑–∞ 25 —Å–µ–∫
   - –°–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç—å –ø—Ä–∏ swap > 1 –ì–ë
   - –§—Ä–∏–∑—ã UI –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º —Å–≤–æ–ø–∏–Ω–≥–µ

2. **Unified Memory Architecture - –ø–∞–ª–∫–∞ –æ –¥–≤—É—Ö –∫–æ–Ω—Ü–∞—Ö:**
   - ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥–µ–ª–∏ > VRAM
   - üî¥ –ù–æ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ —Å–≤–æ–ø–∏—Ç –æ—Å—Ç–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É
   - üî¥ macOS –Ω–µ —Ä–∞–∑–ª–∏—á–∞–µ—Ç "–≥–æ—Ä—è—á–∏–µ" –¥–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –æ—Ç —Ñ–æ–Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

3. **Batch Size –∫—Ä–∏—Ç–∏—á–µ–Ω:**
   - Whisper —Å `batch_size=12` —Å–æ–∑–¥–∞–µ—Ç –æ–≥—Ä–æ–º–Ω—ã–µ –±—É—Ñ–µ—Ä—ã
   - –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ —Å –¥–ª–∏–Ω–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏ —Å–æ–∑–¥–∞—é—Ç –º–∞—Ç—Ä–∏—Ü—ã 8192√ó8192

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ

1. **Apple Vision OCR:**
   - –ü–æ—á—Ç–∏ –Ω–µ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –ø–∞–º—è—Ç—å
   - –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å 0.3-0.5 —Å–µ–∫/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å MLX:**
   - Whisper: 58x real-time (–Ω–∞ —á–∏—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ)
   - Embeddings: 0.024 —Å–µ–∫ –Ω–∞ 3 —Ç–µ–∫—Å—Ç–∞
   - OCR: 0.3-0.5 —Å–µ–∫ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

3. **–ö–∞—á–µ—Å—Ç–≤–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:**
   - OCR: –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ 100%
   - Whisper: —Ä—É—Å—Å–∫–∞—è —Ä–µ—á—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - Embeddings: 82% —Å—Ö–æ–¥—Å—Ç–≤–æ –¥–ª—è –ø–æ—Ö–æ–∂–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤

### üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è POC

#### –î–ª—è 8 –ì–ë RAM (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**

1. ‚úÖ **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π:** –ó–∞–≥—Ä—É–∑–∏—Ç—å ‚Üí –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ‚Üí –í—ã–≥—Ä—É–∑–∏—Ç—å
2. ‚úÖ **–£–º–µ–Ω—å—à–∏—Ç—å batch_size:** Whisper batch_size=4 (–≤–º–µ—Å—Ç–æ 12)
3. ‚úÖ **–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç:** Embeddings max_length=512 (–≤–º–µ—Å—Ç–æ 8192)
4. ‚ö†Ô∏è **–ó–∞–∫—Ä—ã–≤–∞—Ç—å –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∞–º–∏

**–ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã:**

- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–Ω–∏–∂–∞–µ—Ç—Å—è (–Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏/–≤—ã–≥—Ä—É–∑–∫–∏)
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç –Ω–∞ 30-40%
- –†–∏—Å–∫ OOM Kill –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö

#### –î–ª—è 16 –ì–ë RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

1. ‚úÖ –í—Å–µ –º–æ–¥–µ–ª–∏ –≤ –ø–∞–º—è—Ç–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
2. ‚úÖ –ü–æ–ª–Ω—ã–π batch_size –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
3. ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (OCR + Embeddings)
4. ‚úÖ –ö–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±—Ä–∞—É–∑–µ—Ä–æ–º/IDE

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ:**

- OCR: ~100 –ú–ë
- Embeddings: ~600 –ú–ë (8-bit BGE-M3)
- Whisper: ~200 –ú–ë (base)
- Qwen3-VL: ~3.3 –ì–ë (4-bit)
- **–ò—Ç–æ–≥–æ: ~4.2 –ì–ë** + 3 –ì–ë —Å–∏—Å—Ç–µ–º–∞ = **7.2 –ì–ë** (–∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –Ω–∞ 16 –ì–ë)

### üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**

1. –£–º–µ–Ω—å—à–∏—Ç—å `batch_size` –≤ Whisper –¥–æ 4-6
2. –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é (unload models)
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ swap –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**

1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 16 –ì–ë RAM
2. Benchmarking –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π (tiny Whisper, –º–µ–Ω—å—à–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏)
3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞—Ç—á–µ–π –¥–ª—è Embeddings

**–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**

1. CPU-fallback –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞–µ–≤
2. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
3. –ö–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–æ 2-bit

---

## –í–ª–∏—è–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ | –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|-----------------|---------------------|-----------|
| –ò—Å—Ö–æ–¥–Ω—ã–π Swap | 11.5 –ì–ë | 0 –ú–ë | **-100%** ‚úÖ |
| OCR Swap Œî | -8 –ú–ë | 0 –ú–ë | –°—Ç–∞–±–∏–ª—å–Ω–æ |
| Embeddings Swap Œî | +284 –ú–ë | +1639 –ú–ë | **+478%** ‚ö†Ô∏è |
| Whisper Swap Œî | +2001 –ú–ë | +1531 –ú–ë | **-23%** ‚úÖ |
| Whisper –≤—Ä–µ–º—è | 57 —Å–µ–∫ | 15 —Å–µ–∫ | **-74%** üöÄ |

### –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã

1. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞:**
   - Whisper **–≤ 3.8 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ** –Ω–∞ —á–∏—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ
   - –ù–æ swap –≤—Å–µ —Ä–∞–≤–Ω–æ —Ä–∞—Å—Ç–µ—Ç (—Å–∏—Å—Ç–µ–º–∞ —Å–≤–æ–ø–∏—Ç —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã)

2. **Embeddings –ø–∞—Ä–∞–¥–æ–∫—Å:**
   - –ù–∞ —á–∏—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ —Å–æ–∑–¥–∞—é—Ç **–±–æ–ª—å—à–µ** swap (+1.6 –ì–ë vs +284 –ú–ë)
   - –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: –±–æ–ª—å—à–µ —Ñ–æ–Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —Å–≤–æ–ø–∏–Ω–≥–∞

3. **OCR —Å—Ç–∞–±–∏–ª–µ–Ω:**
   - –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
   - –í—Å–µ–≥–¥–∞ 0 swap delta

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –≠—Ç–∞–ø 2: Lightweight Core (OCR + Embeddings + Search)

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Å—Ç–µ–∫ "–≤—Ç–æ—Ä–∞—è –ø–∞–º—è—Ç—å" –±–µ–∑ —Ç—è–∂–µ–ª—ã—Ö LLM

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

1. ‚úÖ OCR - –ø—Ä–æ–≤–µ—Ä–µ–Ω, —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
2. ‚úÖ Embeddings - –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã, —Ç—Ä–µ–±—É—é—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
3. ‚è≥ Search - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–º—É —Å—Ö–æ–¥—Å—Ç–≤—É
4. ‚è≥ Storage - JSON + numpy –¥–ª—è –≤–µ–∫—Ç–æ—Ä–æ–≤
5. ‚è≥ Screenshot capture - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Quartz

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –Ω–∞ 8 –ì–ë:**

- OCR: 100 –ú–ë
- Embeddings: 600 –ú–ë (model) + 200 –ú–ë (vectors cache)
- Search: 50 –ú–ë
- **–ò—Ç–æ–≥–æ: ~1 –ì–ë** - –ø—Ä–∏–µ–º–ª–µ–º–æ ‚úÖ

### –≠—Ç–∞–ø 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Qwen3-VL-4B

**–†–∏—Å–∫–∏:**

- –ú–æ–¥–µ–ª—å 3.3 –ì–ë + KV-cache + –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚âà **5-6 –ì–ë**
- –ù–∞ 8 –ì–ë RAM **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω —Å–≤–æ–ø > 2 –ì–ë**
- –ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–≥—Ä—É–∑–∫–∞ Embeddings –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π Qwen

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**

- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ 16 –ì–ë RAM
- –î–ª—è 8 –ì–ë: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥–µ–ª–µ–π

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—è–≤–∏–ª–æ **–∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –æ–±—ä–µ–º–∞ RAM**:

- **8 –ì–ë** - —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–∞–º–∏ (swap, —Ñ—Ä–∏–∑—ã, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
- **16 –ì–ë** - –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –º–∏–Ω–∏–º—É–º –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞
- **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –ø–µ—Ä–µ–¥ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏

**Apple Vision OCR** - –∑–≤–µ–∑–¥–∞ —Å—Ç–µ–∫–∞: –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ, –æ—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

**MLX Embeddings –∏ Whisper** - —Ç—Ä–µ–±—É—é—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ batch size –∏ —è–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é.

–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø: **Lightweight Core** - —Å–±–æ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ —Å—Ç–µ–∫–∞ –±–µ–∑ —Ç—è–∂–µ–ª—ã—Ö LLM –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ "–≤—Ç–æ—Ä–æ–π –ø–∞–º—è—Ç–∏".
